<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Sedan Configurator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://scripts.sirv.com/sirvjs/v3/sirv.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/section.css">
    <link rel="stylesheet" href="/css/buttons.css">
    <link rel="stylesheet" href="/css/images.css">

</head>
<body>

<form th:action="@{/configurator/sedan}" th:object="${carConfiguratorForm}" method="post">

    <div class="main-div">

        <div class="section">
            <div class="left">
                <div id="carSpin" class="Sirv" data-src="https://mariantoma.sirv.com/Elyssion_sedan/red_sedan/red_sedan.spin"></div>
            </div>

            <div class="right">
                <div class="exterior-color-div" th:each="exterior : ${availableExteriorOptions}">
                    <label>
                        <input type="radio" th:field="*{exteriorColor}" th:value="${exterior.name()}"
                               th:attr="data-color=${exterior.name()}"
                               onclick="changeColorFromData(this); enableSubmit()"
                               required>
                        <span th:text="${exterior.description} + ' (' + ${exterior.optionPrice} + ' ' + Euro + ')'"></span>
                    </label>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="left">
                <img id="interiorImage" class="Sirv" data-src="https://mariantoma.sirv.com/interior/black.webp" alt="Interior View">
            </div>

            <div class="right">
                <div th:each="interior : ${availableInteriorOptions}">
                    <label>
                        <input type="radio" th:field="*{interiorColor}" th:value="${interior.name()}"
                               th:attr="data-color=${interior.name()}"
                               onclick="changeInteriorImage(this.dataset.color); enableSubmit()"
                               required>
                        <span th:text="${interior.description} + ' (' + ${interior.optionPrice} + ' ' + Euro + ')'"></span>
                    </label>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="left">
                <img id="engineImage" class="Sirv" src="https://mariantoma.sirv.com/Engine_type/2.0%20TSX.png" alt="Engine View">
            </div>

            <div class="right">
                <div th:each="engine : ${availableEngineTypes}">
                    <label>
                        <input type="radio" th:field="*{engineType}" th:value="${engine.name()}"
                               th:attr="data-engine=${engine.name()}"
                               onclick="changeEngineImage(this.dataset.engine); enableSubmit()"
                               required>
                        <span th:text="${engine.description} + ' (' + ${engine.optionPrice} + ' ' + Euro + ')'"></span>
                    </label>
                </div>
            </div>
        </div>

            <input type="hidden" th:field="*{finalPrice}" th:value="${calculatedFinalPrice}"/>

            <button id="submitButton" class="submit-button" type="submit">Submit</button>
    </div>
</form>

<script src="/js/car-configurator.js"></script>

</body>
</html>